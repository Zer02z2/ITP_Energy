[
    {
        "id": "e9259c779e1330e5",
        "type": "function",
        "z": "7274d2a37cb1887b",
        "name": "inject time message",
        "func": "let converter = global.get(\"converter\");\n\nlet timeNow = new Date(Date.now() - 4 * 60 * 60 * 1000).toLocaleString();\nlet months = [\"January\", \"Feburary\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\nlet [dateAndYear, time] = timeNow.split(\", \");\nlet [month, date, year] = dateAndYear.split(\"/\");\nlet [hour, min, sec, amOrpm] = time.split(/[: ]/);\n\nmonth = months[parseInt(month) - 1];\ndate = converter.toWordsOrdinal(parseInt(date));\nlet [year1, year2] = [year.slice(0, 2), year.slice(2, 4)];\nyear1 = converter.toWords(parseInt(year1));\nyear2 = converter.toWords(parseInt(year2));\nyear = year1 + \" \" + year2;\ndateAndYear = month + \" \" + date + \", \" + year;\n\nhour = converter.toWords(parseInt(hour));\nmin = converter.toWords(parseInt(min));\n//amOrpm = amOrpm.slice(0, 1) + \"-\" + amOrpm.slice(1, 2);\ntime = hour + \", \" + min + \" \";\n\nlet message = \"Now it is \" + time + \", \" + dateAndYear + \". This is Solar Watcher reporting. \";\nmsg.payload = message + msg.payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 420,
        "wires": [
            [
                "3dedd0349bb5842f",
                "2b72c6e6f7ec55df",
                "10414433f3bdeeb0"
            ]
        ]
    }
]